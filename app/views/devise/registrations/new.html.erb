<% content_for :content_header do %>
  <span class="title">Nouvel utilisateur</span>
<% end %>

<%# render "devise/shared/links" %>

<% content_for :item_content do %>

  <div class="card basic-content">
    <div class="card-content">
    <p class="card-title">Nouvel utilisateur</p>
      <%= simple_form_for(@user, as: :user, url: registration_path(:user)) do |f| %>
        <% devise_error_messages=! %>
    
        <div class="row">
          <div class="col s12 m6">
            <%= f.input :name, :required => true, autofocus: true, label: :Nom, class: 'col s12 m6'  %>
          </div>
          <div class="col s12 m6">
            <%= f.input :email, :required => true, placeholder: 'user@domain.com', label: :Email, class: 'col s12 m6'  %>
          </div>
        </div>
        
        <div class="row">
          <div class="col s12 m6">
          <%= f.input :password, autocomplete: "off", label: 'Mot de passe' %>
          </div>
          <div class="col s12 m6">
          <%= f.input :password_confirmation, autocomplete: "off", label: 'Confirmation du mot de passe' %>
          </div>
        </div>
  
        <div class="row">
          <div class="col s12 m6">
              <%= f.input :role_id, collection: @roles, 
                    label_method: :name, value_method: :id,
                    selected: 4,
                    label: 'Role demandÃ©', include_blank: false %>
          </div>
        </div>
        
        <div class="card-action">
          <%= f.button :submit, 'CrÃ©er', class: "btn" %>
        
          <%= link_to('Annuler', :back) %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
